# Enable full rgb colours
# set-option -a terminal-overrides ",alacritty:RGB"
set-option -sa terminal-overrides ",xterm*:Tc"
set-option -g default-terminal screen-256color

set -g default-terminal "${TERM}"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm' # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m' # underscore colours - needs tmux-3.0

# Set Prefix
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Start window index at 1
set -g base-index 1
setw -g pane-base-index 1

# Reload tmux config
unbind r
bind r source-file ~/.config/tmux/tmux.conf

# Split panes
bind h split-window -v -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"

# General config
set -g mouse on 							# Enable mouse
set -g renumber-windows on    # Renumber all windows when any window is closed
set -g set-clipboard on       # Use system clipboard
set -g status-interval 2      # Update status every 2 seconds
set -g status-right ''        # Empty right statusline
set -g status-position top    # macOS / darwin style

# Status line config
set -g status-style 'bg=default' # Transparent background
set -g status-left  '' # Clear left statusline
set -g pane-active-border-style     'fg=magenta,bg=default'
set -g pane-border-style            'fg=brightblack,bg=default'
set -g window-status-current-format '#[fg=magenta]#W'
set -g window-status-format         '#[fg=gray]#W'

# Init plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'

run '~/.tmux/plugins/tpm/tpm'
